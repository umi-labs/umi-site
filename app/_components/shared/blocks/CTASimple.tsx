'use client';
import React from 'react';
import { cn } from '@/app/_utils';
import type { CTASimpleProps } from '@/types/components/ctaSimple';
import Image from 'next/image';
import Link from '@/app/_components/ui/link';
import { BottomBuffer, TopBuffer } from '@/app/_components/ui/buffers';

export default function CTASimple({ data }: CTASimpleProps) {
  return (
    <section
      className={cn(
        'flex-center relative mx-auto size-full min-h-[50svh] max-w-7xl bg-primary-foreground text-primary-background',
        data.topBuffer && 'mt-32',
        data.bottomBuffer && 'mb-32'
      )}
    >
      <TopBuffer visible={data.topBuffer} className="w-full max-w-7xl" />
      <div className="relative grid min-h-[50svh] w-screen grid-cols-1 grid-rows-6 place-items-center gap-x-36 overflow-clip px-8 py-10 md:grid-cols-5 md:grid-rows-1 lg:px-10">
        <BackgroundPatternSVG className="absolute -left-1/2 bottom-0 -z-0 h-full w-auto md:left-0 md:h-auto md:w-full" />
        <div className="flex-center row-span-2 size-full md:col-span-2">
          <Image
            src={data.image.asset.url}
            width={data.image.asset.metadata.dimensions.width}
            height={data.image.asset.metadata.dimensions.height}
            alt={data.image.asset.altText ? data.image.asset.altText : ''}
            className="object-contain object-center"
          />
        </div>
        <div className="flex-center z-10 row-span-4 size-full flex-col gap-y-10 text-center md:col-span-3">
          <div className="flex flex-col gap-y-6">
            <span>{data.subtitle}</span>
            <h2>{data.title}</h2>
          </div>
          <p>{data.content}</p>
          <Link
            link={data.button.link}
            size="default"
            variant={data.button.type}
          >
            {data.button.title}
          </Link>
        </div>
      </div>
      <BottomBuffer
        visible={data.bottomBuffer}
        className="h-fit w-full max-w-7xl"
      />
    </section>
  );
}

const BackgroundPatternSVG = (
  props: React.HTMLAttributes<HTMLOrSVGElement>
) => {
  return (
    <svg
      width="1440"
      height="463"
      viewBox="0 0 1440 463"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      {...props}
    >
      <mask
        id="mask0_8511_7507"
        style={{ maskType: 'alpha' }}
        maskUnits="userSpaceOnUse"
        x="0"
        y="0"
        width="1440"
        height="463"
      >
        <rect y="0.0369873" width="1440" height="462" fill="#D9D9D9" />
      </mask>
      <g mask="url(#mask0_8511_7507)">
        <g opacity="0.05">
          <path
            d="M163.3 258.337C158 260.937 152.8 263.737 147.4 266.237C139.7 269.737 131.6 273.137 123.7 276.437C105.3 284.037 87.8004 293.037 71.5004 303.437C49.0004 317.837 25.5004 331.137 1.1004 343.237C-8.1996 347.837 -17.6996 352.037 -27.2996 356.137C-44.0996 363.337 -60.2996 371.437 -76.2996 379.837C-90.4996 387.237 -104.7 394.537 -119.1 401.737C-130.2 407.337 -141.9 412.037 -154 415.737C-156 416.337 -157.9 417.137 -159.8 417.937C-161.1 418.337 -162.3 418.937 -163.3 419.737C-164.3 420.537 -165.1 421.537 -165.6 422.537C-163.2 424.237 -160.2 425.137 -157 425.037C-142.1 425.737 -127.2 425.337 -112.3 423.737C-85.8996 421.137 -60.2996 415.137 -35.0996 407.737C-15.2996 401.937 4.40041 395.937 23.1004 387.837C41.1004 380.137 58.4004 371.237 74.8004 361.437C92.0004 351.237 108.8 340.737 125.7 330.237C154.5 312.237 183.3 294.237 212.1 276.337C227.5 266.437 243.9 257.637 261 249.937C261 249.937 270.6 243.937 275.4 242.437C294.8 236.437 314.4 230.837 334.4 226.437C359.9 220.937 385.8 217.237 411.9 215.537C430.3 214.237 448.7 214.437 467 214.437C473.7 214.437 480.3 214.437 487 214.237C490.2 214.037 493.4 213.637 496.5 213.037C498.6 212.637 500.9 211.937 501 209.737C501.1 207.537 498.4 207.237 496.7 206.437C496 206.137 495.2 206.037 494.4 205.937C473.1 202.437 451.9 198.737 430.3 196.937C417.6 195.937 404.8 195.537 392 195.937C381.3 196.237 370.7 196.237 360 197.137C306.1 201.437 255.2 214.937 206.7 235.837C192.8 241.837 179.2 248.337 166.1 255.337L163.3 258.337Z"
            fill="#C5C7C9"
          />
          <path
            d="M7.40039 274.337C-18.6996 289.537 -43.9996 305.837 -70.9996 319.737C-115.6 342.637 -162.3 362.337 -210.8 378.637C-218.6 381.237 -226.5 383.237 -234.3 385.637C-236.1 386.237 -237.9 387.037 -239.6 387.837C-238.7 388.537 -237.7 389.137 -236.6 389.637C-235.6 389.937 -234.6 390.037 -233.5 390.037C-220.7 389.537 -208 389.837 -195.3 387.837C-166.7 383.437 -139.3 375.537 -112.1 367.037L-40.4996 344.637C-15.9996 336.937 7.40039 327.137 29.4004 315.237C46.9004 305.837 64.0004 296.037 81.2004 286.337C93.5004 279.437 105.6 272.337 117.8 265.237L123.3 261.737C124.2 260.637 125.3 259.737 126.5 258.837C156.2 241.637 185.9 224.337 215.7 207.237C237.4 194.537 260.2 183.237 283.8 173.437C304.5 165.137 325.9 158.437 347.9 153.337C373.2 147.237 398.6 141.537 423.9 135.637C424.7 135.537 425.4 135.237 426.1 134.937C426.4 134.737 426.7 134.437 426.9 134.137C427.1 133.837 427.2 133.537 427.2 133.137C427.2 132.737 427 132.337 426.8 131.937C426.6 131.537 426.2 131.237 425.8 131.037C424.6 130.637 423.3 130.437 422 130.537C394.6 131.537 367.1 132.337 339.7 134.537C304.5 137.437 270 143.437 236.8 155.037C216.7 162.137 196.4 168.637 176.8 176.837C164.5 181.937 152.6 187.737 141.3 194.337L18.6004 266.037C16.6004 267.137 14.6004 268.337 12.8004 269.637L7.40039 274.337Z"
            fill="#C5C7C9"
          />
          <path
            d="M846.9 383.837C847.3 382.937 847.5 381.937 847.6 381.037C847.2 376.237 846.7 371.437 846.3 366.537C846.2 365.537 845.9 364.637 845.4 363.737C844.9 362.837 844.1 362.137 843.2 361.437C835.1 355.337 827.1 349.137 818.5 343.337C808.9 336.737 798.9 330.437 788.9 324.037C747 297.537 701.7 276.037 651.3 261.837C630.6 256.037 609.3 251.537 587.7 248.237C583.8 247.637 579.9 247.137 576.1 246.237C549 240.437 521.3 236.637 493.2 235.037C468 233.537 442.6 234.537 417.5 238.137C401.1 240.537 384.9 243.137 368.7 246.737C342.3 252.537 316.4 260.237 291.4 269.637C265.5 279.237 240.5 290.337 215.7 301.637C204.3 306.837 192.9 311.837 181.4 316.837C163.3 324.837 146 334.137 129.7 344.537C106.3 359.137 83.0002 373.737 59.5002 388.137C34.9002 403.537 9.0002 417.537 -17.9998 429.837C-27.2998 434.037 -36.5998 438.037 -45.8998 442.237C-51.0998 444.637 -56.1998 447.137 -61.2998 449.837C-63.3998 450.937 -65.2998 452.237 -66.9998 453.637C-67.2998 453.937 -67.4998 454.337 -67.5998 454.737C-67.6998 455.137 -67.6998 455.537 -67.5998 455.937C-67.3998 456.337 -66.9998 456.637 -66.5998 456.837C-66.1998 457.037 -65.6998 457.237 -65.1998 457.237C-63.5998 457.237 -61.9998 457.137 -60.3998 456.937C-18.8998 454.137 20.5002 444.237 58.9002 430.637C72.8002 425.737 86.5002 420.437 100.1 415.137C113.5 409.837 126.2 403.337 138 395.737C149.8 388.237 161.4 380.437 172.9 372.537C205.3 350.837 239.8 331.237 275.9 314.037C286.9 308.837 298.5 304.537 310.5 301.137C332.8 294.437 355.5 289.037 378.7 285.137C391 283.137 403.6 281.737 416 280.637C439.1 278.637 462.3 277.637 485.5 277.037C516.1 276.537 546.7 277.837 576.9 281.037C582.4 281.637 587.9 282.537 593.2 283.637C655.7 295.237 715.3 314.937 769.8 341.937C793 353.437 815.6 365.637 837.3 378.937C839.6 380.337 842 381.837 844.3 383.137C845.1 383.537 846 383.737 846.9 383.837Z"
            fill="#C5C7C9"
          />
          <path
            d="M5.2002 480.237C7.9002 482.337 10.6002 481.937 13.6002 481.437C26.4002 479.037 39.3002 476.937 52.1002 474.337C72.0002 470.637 91.6002 465.637 110.7 459.637C127.8 454.237 144.2 447.137 159.5 438.637C180.7 426.637 201.9 414.537 223 402.437C263.8 379.137 307.4 359.537 353 343.937C376.7 335.837 401.1 329.337 425.9 324.737C433 323.437 440.1 322.237 447.2 321.437C452.5 321.037 457.8 320.937 463.2 320.937C484.8 320.437 506.3 320.937 527.7 322.537C580.3 326.737 631.5 337.937 679.3 355.737C703.8 364.737 728.1 374.037 751.8 384.437C765.1 390.037 778 396.437 790.2 403.437C793.8 405.537 797.8 407.337 801.6 409.137C803.6 410.037 803.7 409.937 807.6 408.537C808.2 405.837 806 404.037 804.3 402.237C798 395.037 790.5 388.637 782.1 383.037C769.9 375.137 757.2 367.837 744 361.137C725.2 351.637 705.7 343.137 685.5 335.637C647.8 321.637 609.4 309.237 568.5 302.337C537.8 297.137 506.9 293.637 475.5 293.637C451.5 293.637 427.5 294.037 403.8 298.337C372.4 304.037 340.9 309.437 310.6 319.137C291 325.337 272 332.937 253.8 341.837C248 344.737 242.6 348.037 237 351.137C229.3 355.337 221.9 359.937 214 363.737C198.6 371.237 183.8 379.537 169.7 388.637C158.5 395.737 147.4 402.937 136.2 410.037C122.6 418.537 108.2 426.237 93.4002 433.037C81.8002 438.437 70.9002 444.537 59.8002 450.537C52.1002 454.637 44.7002 459.237 36.9002 463.337C28.7002 467.637 20.2002 471.537 11.8002 475.637C9.3002 476.737 6.6002 477.337 5.2002 480.237Z"
            fill="#C5C7C9"
          />
          <path
            d="M77.2007 506.237C79.4007 508.137 82.1007 507.437 84.7007 507.037C108.801 502.937 132.601 497.037 155.601 489.437C197.401 475.637 237.701 458.937 276.201 439.337C303.301 425.337 332.101 413.837 362.101 405.237C376.401 401.337 390.901 398.037 405.601 395.337C409.001 394.737 412.301 393.837 415.701 393.037C427.701 389.837 440.201 387.737 452.701 386.937C504.701 384.037 555.901 387.537 605.501 399.537C626.601 404.637 646.201 412.537 665.201 421.437C670.901 424.137 676.501 426.837 682.301 429.537C684.101 430.437 686.001 431.137 688.001 431.737C688.801 431.937 689.901 431.437 691.301 431.137C691.001 430.237 690.501 429.337 689.901 428.537C684.901 424.437 680.001 420.137 674.701 416.437C662.601 407.837 649.501 400.137 635.701 393.437C593.701 373.137 547.001 359.937 498.301 354.837C473.301 352.337 448.001 351.737 422.701 352.837C415.501 353.037 408.301 353.937 401.301 355.337C397.101 356.037 392.901 356.537 388.601 356.737C341.901 361.237 296.901 375.037 257.301 396.937C243.101 404.737 229.301 413.037 215.801 421.637C199.001 432.237 182.601 443.337 166.201 454.337C153.101 463.437 139.001 471.337 124.001 478.037C118.801 480.337 113.701 482.937 108.901 485.837C99.6007 491.237 90.4007 496.737 81.2007 502.237C79.1007 503.137 77.0007 504.037 77.2007 506.237Z"
            fill="#C5C7C9"
          />
          <path
            d="M157.9 525.237C160.1 525.837 162.3 524.837 164.5 524.437C201.3 516.137 237.4 505.637 272.5 493.137C290.9 486.737 309.2 480.137 327.6 473.837C353.8 464.937 380.7 457.737 408.1 452.437C431.4 447.837 455.1 445.337 478.8 445.037C492.4 444.837 505.9 444.737 519.5 445.337C542.8 446.537 565.9 449.237 588.6 453.237C602.3 455.537 615.8 458.537 629.4 461.137C632 461.637 634.6 462.037 637.2 462.437C638.3 462.637 638.7 462.337 641.3 460.137C639.5 458.837 637.7 457.737 635.8 456.637C611.4 444.137 586 433.537 557.5 428.137C535.3 423.937 513 420.537 490.1 419.837C461.7 418.737 433.1 420.137 404.8 424.037C377.7 428.037 350.9 433.837 324.6 441.237C303.7 447.137 283.6 455.137 263.9 463.237C251.8 468.237 239.8 473.337 227.8 478.337C217.9 482.437 208.6 487.537 200.1 493.437C186.4 502.937 172.8 512.537 159.2 522.137C158.4 522.837 157.2 523.637 157.9 525.237Z"
            fill="#C5C7C9"
          />
        </g>
      </g>
    </svg>
  );
};

const TopWave = (props: React.HTMLAttributes<HTMLOrSVGElement>) => {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="1440"
      height="80"
      viewBox="0 0 1440 80"
      fill="none"
      {...props}
    >
      <path
        d="M520.766 0.0367299C390.85 0.842498 119.457 31.0367 0 46.0367V109.037H1440V86.0367C1185.38 80.0209 846.57 -1.98399 520.766 0.0367299Z"
        fill="#313E4E"
        className="w-full"
      />
    </svg>
  );
};

const BottomWave = (props: React.HTMLAttributes<HTMLOrSVGElement>) => {
  return (
    <svg
      width="1440"
      height="110"
      viewBox="0 0 1440 110"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      {...props}
    >
      <path
        d="M919.234 109.037C1049.15 108.232 1320.54 78.0374 1440 63.0374L1440 0.037117L9.53231e-06 0.0369911L7.52157e-06 23.0372C254.619 29.0531 593.43 111.058 919.234 109.037Z"
        fill="#313E4E"
        className="w-full"
      />
    </svg>
  );
};
